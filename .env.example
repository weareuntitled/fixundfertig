# Copy this file to ".env" and fill in real values.
# Put ".env" in the project root (fixundfertig/.env); it is preferred over app/.env for login.
# IMPORTANT: Never commit ".env" (it is gitignored).

# ---- Environment ----
# Use: development | production
FF_ENV=production

# ---- Domains / URLs ----
APP_DOMAIN=app.example.com
APP_BASE_URL=https://app.example.com
N8N_DOMAIN=n8n.example.com

# ---- Application Secrets ----
# Generate a strong value (>=32 chars). Examples:
#   python -c "import secrets; print(secrets.token_urlsafe(48))"
STORAGE_SECRET=change-me-please

# Session cookie hardening (recommended for production)
FF_COOKIE_SECURE=1
FF_COOKIE_SAMESITE=strict

# Trusted hosts & CORS (comma-separated)
# If unset, the app will derive defaults from APP_DOMAIN / APP_BASE_URL.
# For local Docker (e.g. http://localhost:3000), add FF_ALLOW_LOCALHOST=1 or include localhost in FF_TRUSTED_HOSTS.
FF_TRUSTED_HOSTS=app.example.com,www.app.example.com
FF_ALLOW_LOCALHOST=0
FF_CORS_ORIGINS=https://app.example.com

# Trust reverse proxy headers (X-Forwarded-For / X-Forwarded-Proto)
# Set to 1 only when the app is NOT exposed directly to the internet (e.g. behind Caddy/Nginx).
FF_TRUST_PROXY_HEADERS=1

# ---- Database ----
DATABASE_URL=sqlite:///storage/database.db

# ---- Email / Auth ----
OWNER_EMAIL=
OWNER_PASSWORD=

# If set, enables email verification + password reset flows
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# ---- Storage backend ----
STORAGE_BACKEND=local
STORAGE_LOCAL_ROOT=storage
# S3-compatible backend (when STORAGE_BACKEND=s3)
S3_BUCKET=
S3_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_ENDPOINT_URL=

# ---- n8n (docker-compose.prod.yml) ----
N8N_SECRET=
N8N_RUNNERS_AUTH_TOKEN=
DB_PASSWORD=

# ---- Dangerous dev-only flags (do not use in production) ----
FF_DISABLE_AUTH=0
# Skip login when accessing from localhost (e.g. http://localhost:3000). Set FF_LOCAL_TEST_PASSWORD too.
FF_NO_LOGIN_LOCAL=0
# Allow right-click / browser DevTools Inspect (e.g. for local dev).
FF_ALLOW_BROWSER_INSPECT=0
# Force browser not to cache page (e.g. after design changes).
FF_NO_CACHE=0
FF_LOCAL_TEST_USER=
FF_LOCAL_TEST_PASSWORD=
FF_LOCAL_TEST_EMAIL=

# ---- Upload limits (bytes) ----
FF_MAX_UPLOAD_BYTES=10485760

# ---- Rate limits ----
# Requests per minute (0 = disable)
FF_RATELIMIT_LOGIN_PER_MIN=10
FF_RATELIMIT_UPLOAD_PER_MIN=30
FF_RATELIMIT_WEBHOOKS_PER_MIN=120
